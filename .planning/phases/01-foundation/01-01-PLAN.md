---
phase: 01-foundation
plan: 01
type: execute
depends_on: []
files_modified:
  [
    next.config.ts,
    package.json,
    vitest.config.ts,
    src/__tests__/setup.ts,
    src/__tests__/sample.test.ts,
  ]
---

<objective>
Set up React Compiler and Vitest testing infrastructure.

Purpose: Enable React Compiler for automatic memoization and establish TDD workflow with Vitest.
Output: Working test infrastructure with sample test, React Compiler enabled.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@next.config.ts
@package.json

**Tech stack:**

- Next.js 16.1.1 with App Router
- React 19.2.3
- TypeScript 5.x (strict mode)
- Tailwind CSS 4

**Constraining decisions:**

- TDD 방식 적용 (Vitest)
- React Compiler 활성화 필요
  </context>

<tasks>

<task type="auto">
  <name>Task 1: Enable React Compiler in Next.js</name>
  <files>next.config.ts</files>
  <action>
Update next.config.ts to enable React Compiler:
- Add `experimental.reactCompiler: true` to config
- Keep existing config structure

Note: React Compiler is built into Next.js 16, no additional package needed.
Do NOT add babel-plugin-react-compiler (it's bundled in Next.js 16).
</action>
<verify>npm run build completes without React Compiler errors</verify>
<done>next.config.ts contains `experimental: { reactCompiler: true }`, build succeeds</done>
</task>

<task type="auto">
  <name>Task 2: Install and configure Vitest with Testing Library</name>
  <files>package.json, vitest.config.ts, src/__tests__/setup.ts</files>
  <action>
1. Install packages:
   npm install -D vitest @vitejs/plugin-react @testing-library/react @testing-library/jest-dom jsdom

2. Create vitest.config.ts at project root:
   - Use @vitejs/plugin-react for React support
   - Set test environment to jsdom
   - Configure setupFiles to include setup.ts
   - Set globals: true for describe/it/expect without imports
   - Include path alias support (@/_ -> ./_)

3. Create src/**tests**/setup.ts:
   - Import @testing-library/jest-dom for extended matchers

4. Add npm scripts to package.json:
   - "test": "vitest"
   - "test:run": "vitest run"
   - "test:coverage": "vitest run --coverage"

Do NOT use Jest - project uses Vitest for faster execution and native ESM support.
</action>
<verify>npm run test:run executes without config errors (may show 0 tests)</verify>
<done>Vitest configured, npm scripts added, setup.ts created with jest-dom matchers</done>
</task>

<task type="auto">
  <name>Task 3: Create sample test to verify TDD workflow</name>
  <files>src/__tests__/sample.test.ts</files>
  <action>
Create src/__tests__/sample.test.ts with:
- Simple test that passes: describe block with it/expect
- Test a basic utility function (e.g., string formatting)
- Include inline implementation to test (can be extracted later)

Purpose: Verify Vitest + Testing Library setup works correctly.
Keep it minimal - this is infrastructure validation, not business logic.
</action>
<verify>npm run test:run shows 1 passing test</verify>
<done>Sample test exists and passes, TDD workflow verified</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds (React Compiler active)
- [ ] `npm run test:run` shows passing tests
- [ ] No TypeScript errors
- [ ] vitest.config.ts uses correct path aliases
</verification>

<success_criteria>

- React Compiler enabled in next.config.ts
- Vitest + Testing Library installed and configured
- Sample test passing
- npm scripts for test, test:run, test:coverage available
  </success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
